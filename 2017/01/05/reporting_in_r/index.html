<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0"><meta name="author" content="Breght Van Baelen"><link rel="icon" href="/b-logo-rounded.png"><title>Blog</title><meta name="description" content=""><link rel="alternate" type="application/rss+xml" title="Blog" href="/atom.xml"><link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/4.5.0/css/font-awesome.min.css"><link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"><link rel="stylesheet" href="/css/main.css"><link rel="stylesheet" href="/css/highlight.css"><link rel="stylesheet" href="//fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic"><link rel="stylesheet" href="//fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800"><!-- hexo injector head_end start -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css">

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/hexo-math@4.0.0/dist/style.css">
<!-- hexo injector head_end end --><meta name="generator" content="Hexo 8.1.1"></head><body><nav class="navbar navbar-default navbar-fixed-top navbar-custom"><div class="container-fluid"><div class="navbar-header"><button type="button" data-toggle="collapse" data-target="#main-navbar" class="navbar-toggle"><span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button><a href="/" class="navbar-brand">Blog</a></div><div id="main-navbar" class="collapse navbar-collapse"><ul class="nav navbar-nav navbar-right"><li><a href="/archives">Archive</a></li></ul></div><div class="avatar-container"><div class="avatar-img-border"><a href="/"><img src="/b-logo-rounded.png" class="avatar-img"></a></div></div></div></nav><header class="header-section"><div class="intro-header no-img"><div class="container"><div class="row"><div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1"><div class="post-heading"><h1>Reporting in R</h1><h2 class="post-subheading">using R Markdown and knitr</h2><p class="post-meta">Posted on Jan 5 2017 · <a href="/tags/R/" class="tag post-meta">R</a> · <a href="/tags/markdown/" class="tag post-meta">markdown</a> · <a href="/tags/knitr/" class="tag post-meta">knitr</a> · <a href="/tags/reporting/" class="tag post-meta">reporting</a></p></div></div></div></div></div></header><div class="container"><div class="row"><div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1"><article role="main" class="blog-post"><p>test2Reporting your R-script can be done <em>in a matter of seconds</em> by using knitr or R Markdown. These libraries were created to quickly show your <strong>R-code</strong> as well as <strong>results</strong> in a wide variety of document types. Knitr can be used to automatically create a report of an existing R-script. R Markdown uses knitr in combination with <strong>markdown</strong> to create more customised reports.</p>
<p><img src="http://rmarkdown.rstudio.com/images/RMarkdownOutputFormats.png" alt="R-Reporting"></p>
<span id="more"></span>
<h2 id="Knitr"><a href="#Knitr" class="headerlink" title="Knitr"></a>Knitr</h2><hr>
<p>Knitr is ideal to create a report for your <strong>colleagues &#x2F; insiders</strong>. It provides the function <code>stitch()</code>, which creates a <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext>LaTeX</mtext></mrow><annotation encoding="application/x-tex">\LaTeX</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8988em;vertical-align:-0.2155em;"></span><span class="mord text"><span class="mord textrm">L</span><span class="mspace" style="margin-right:-0.36em;"></span><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6833em;"><span style="top:-2.905em;"><span class="pstrut" style="height:2.7em;"></span><span class="mord"><span class="mord textrm mtight sizing reset-size6 size3">A</span></span></span></span></span></span><span class="mspace" style="margin-right:-0.15em;"></span><span class="mord text"><span class="mord textrm">T</span><span class="mspace" style="margin-right:-0.1667em;"></span><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.4678em;"><span style="top:-2.7845em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord textrm">E</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2155em;"><span></span></span></span></span><span class="mspace" style="margin-right:-0.125em;"></span><span class="mord textrm">X</span></span></span></span></span></span> (default) or HTML report of an <strong>existing</strong> R-script. Apart from the code and results, it also shows the <strong>R session information</strong>. For more details about this package, refer to the <a target="_blank" rel="noopener" href="https://yihui.name/knitr/">homepage</a> of knitr.</p>
<h3 id="Set-up"><a href="#Set-up" class="headerlink" title="Set-up"></a>Set-up</h3><p>Assume we have an R-script called script.R containing just two lines of code.</p>
<pre><code>library(dplyr)
glimpse(mtcars)
</code></pre>
<p>The last line will glimpse at dataset <code>mtcars</code> by showing the number of observations, the number of variables and their first values. Further, make sure knitr is installed by running the following command.</p>
<pre><code>install.packages(&#39;knitr&#39;)
</code></pre>
<h3 id="Execution"><a href="#Execution" class="headerlink" title="Execution"></a>Execution</h3><p>To quickly generate a report of script.R, simply run the following command.</p>
<pre><code>knitr::stitch(&#39;script.R&#39;)
</code></pre>
<p>The command generated 2 documents in the working directory, namely a <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext>LaTeX</mtext></mrow><annotation encoding="application/x-tex">\LaTeX</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8988em;vertical-align:-0.2155em;"></span><span class="mord text"><span class="mord textrm">L</span><span class="mspace" style="margin-right:-0.36em;"></span><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6833em;"><span style="top:-2.905em;"><span class="pstrut" style="height:2.7em;"></span><span class="mord"><span class="mord textrm mtight sizing reset-size6 size3">A</span></span></span></span></span></span><span class="mspace" style="margin-right:-0.15em;"></span><span class="mord text"><span class="mord textrm">T</span><span class="mspace" style="margin-right:-0.1667em;"></span><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.4678em;"><span style="top:-2.7845em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord textrm">E</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2155em;"><span></span></span></span></span><span class="mspace" style="margin-right:-0.125em;"></span><span class="mord textrm">X</span></span></span></span></span></span> file script.tex and a PDF file script.pdf. The <a href="/content/reporting_in_r/script.pdf">PDF-file</a> shows the code, results, R session information and time of execution.</p>
<h2 id="R-Markdown"><a href="#R-Markdown" class="headerlink" title="R Markdown"></a>R Markdown</h2><hr>
<p>R Markdown is ideal to create a report for your <strong>clients &#x2F; outsiders</strong>. It creates a report by writing a <strong>markdown</strong> document embedded with <strong>R code</strong> and its <strong>results</strong>. The document can then be converted to HTML, <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext>LaTeX</mtext></mrow><annotation encoding="application/x-tex">\LaTeX</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8988em;vertical-align:-0.2155em;"></span><span class="mord text"><span class="mord textrm">L</span><span class="mspace" style="margin-right:-0.36em;"></span><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6833em;"><span style="top:-2.905em;"><span class="pstrut" style="height:2.7em;"></span><span class="mord"><span class="mord textrm mtight sizing reset-size6 size3">A</span></span></span></span></span></span><span class="mspace" style="margin-right:-0.15em;"></span><span class="mord text"><span class="mord textrm">T</span><span class="mspace" style="margin-right:-0.1667em;"></span><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.4678em;"><span style="top:-2.7845em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord textrm">E</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2155em;"><span></span></span></span></span><span class="mspace" style="margin-right:-0.125em;"></span><span class="mord textrm">X</span></span></span></span></span></span>, PDF, Word or even a slideshow. If you are not familiar with markdown, refer to the <a target="_blank" rel="noopener" href="https://breght-van-baelen.github.io/2016/12/29/markdown/">Markdown</a> article. For more information about R Markdown, refer to the <a target="_blank" rel="noopener" href="https://www.rstudio.com/wp-content/uploads/2015/02/rmarkdown-cheatsheet.pdf">cheat sheet</a>.</p>
<p>In this section, we are going to create an R Markdown document which includes some libraries, glimpses at the dataset <code>mtcars</code> and displays interactive plots.</p>
<p><a target="_blank" rel="noopener" href="https://www.youtube.com/watch?v=zNzZ1PfUDNk"><img src="https://img.youtube.com/vi/zNzZ1PfUDNk/0.jpg" alt="R Markdown Tutorial"></a></p>
<h3 id="Set-up-1"><a href="#Set-up-1" class="headerlink" title="Set-up"></a>Set-up</h3><p>To create R Markdown documents, I highly recommend using <a target="_blank" rel="noopener" href="https://www.rstudio.com/">RStudio</a>. From RStudio, create a new R Markdown document by clicking <em>File &gt; New File &gt; R Markdown</em>. Specifying the title and author and selecting the desired output format creates an initial YAML-header. The title of this document is set to <em>“Hello world”</em> and the author to <em>“Breght Van Baelen”</em>. Save the document as <em>report.Rmd</em>.</p>
<p><img src="https://breght-van-baelen.github.io/content/ReportingInR/RStudio_RMarkdown.png" alt="RStudio-RMarkdown"></p>
<p>Markdown can be written below the YAML-header and R code can be embedded inline by <code>`r some r-code`</code> or by a code chunk starting with <code>```&#123;r&#125;</code> and ending with <code>```</code>.</p>
<h4 id="Adding-libraries"><a href="#Adding-libraries" class="headerlink" title="Adding libraries"></a>Adding libraries</h4><p>Add the following text below the YAML-header. What each library is used for will be explained later. Make sure the libraries were downloaded first by using <code>install.packages(&#39;the_package&#39;)</code>.</p>
<figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">## Libraries</span></span><br><span class="line">The libraries used for the R-script.</span><br><span class="line"><span class="code">```&#123;r&#125;</span></span><br><span class="line"><span class="code">library(knitr)</span></span><br><span class="line"><span class="code">library(dplyr)</span></span><br><span class="line"><span class="code">library(shiny)</span></span><br><span class="line"><span class="code">```</span></span><br></pre></td></tr></table></figure>

<h4 id="Glimpse-mtcars"><a href="#Glimpse-mtcars" class="headerlink" title="Glimpse mtcars"></a>Glimpse mtcars</h4><p>Add the following text to include a glimpse of dataset <code>mtcars</code> to the report. The function <code>kable()</code> produces a markdown output of the table which is then converted to the specified output document.</p>
<figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">## Glimpse</span></span><br><span class="line">To glimpse at the dataset <span class="code">`mtcars`</span>, execute the following code.</span><br><span class="line"><span class="code">```&#123;r&#125;</span></span><br><span class="line"><span class="code">kable(glimpse(mtcars))</span></span><br><span class="line"><span class="code">```</span></span><br></pre></td></tr></table></figure>

<h4 id="Plot-datasets"><a href="#Plot-datasets" class="headerlink" title="Plot datasets"></a>Plot datasets</h4><p>Add <code>runtime: shiny</code> to the YAML-header and the following text to include an interactive plotter to the report. A combobox will be displayed with the option to plot the <code>mtcars</code> or <code>co2</code> dataset. This will only work when converting to a presentation or a HTML-document and when shiny is running on your localhost. This will be left out when rendering the report. The option <code>echo=FALSE</code> only shows the result and hides the code.</p>
<figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">## Plot</span></span><br><span class="line">Plotting the selected dataset gives us the following picture.</span><br><span class="line"><span class="code">```&#123;r echo=FALSE&#125;</span></span><br><span class="line"><span class="code">selectInput(&quot;data&quot;,&quot;&quot;,c(&quot;mtcars&quot;,&quot;co2&quot;))</span></span><br><span class="line"><span class="code">renderPlot(&#123;</span></span><br><span class="line"><span class="code">  d &lt;- get(input$data)</span></span><br><span class="line"><span class="code">  plot(d)</span></span><br><span class="line"><span class="code">&#125;)</span></span><br><span class="line"><span class="code">```</span></span><br></pre></td></tr></table></figure>

<h3 id="Execution-1"><a href="#Execution-1" class="headerlink" title="Execution"></a>Execution</h3><p>The desired output format is specified in the YAML-header. To render report.Rmd, simply press <kbd>ctrl</kbd>+<kbd>shift</kbd>+<kbd>k</kbd> or use the command <code>rmarkdown::render(&quot;report.Rmd&quot;)</code>.</p>
<table>
<thead>
<tr>
<th>Output Format</th>
<th>Description</th>
</tr>
</thead>
<tbody><tr>
<td>html_document</td>
<td>html file (webpage)</td>
</tr>
<tr>
<td>pdf_document</td>
<td>pdf document</td>
</tr>
<tr>
<td>word_document</td>
<td>Microsoft Word .docx</td>
</tr>
<tr>
<td>beamer_presentation</td>
<td>beamer slideshow (pdf)</td>
</tr>
<tr>
<td>ioslides_presentation</td>
<td>ioslides slideshow (html)</td>
</tr>
</tbody></table>
<p>Use the following output format to also keep the <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext>LaTeX</mtext></mrow><annotation encoding="application/x-tex">\LaTeX</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8988em;vertical-align:-0.2155em;"></span><span class="mord text"><span class="mord textrm">L</span><span class="mspace" style="margin-right:-0.36em;"></span><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6833em;"><span style="top:-2.905em;"><span class="pstrut" style="height:2.7em;"></span><span class="mord"><span class="mord textrm mtight sizing reset-size6 size3">A</span></span></span></span></span></span><span class="mspace" style="margin-right:-0.15em;"></span><span class="mord text"><span class="mord textrm">T</span><span class="mspace" style="margin-right:-0.1667em;"></span><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.4678em;"><span style="top:-2.7845em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord textrm">E</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2155em;"><span></span></span></span></span><span class="mspace" style="margin-right:-0.125em;"></span><span class="mord textrm">X</span></span></span></span></span></span> document when converting to PDF.</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">output:</span> </span><br><span class="line">  <span class="attr">pdf_document:</span> </span><br><span class="line">    <span class="attr">keep_tex:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure></article><ul class="pager blog-pager"><li class="next"><a href="/2016/12/29/markdown_guide/" data-toggle="tooltip" data-placement="top" title="Markdown">Next Post →</a></li></ul><div class="disqus-comments"><div class="comments"><div id="disqus_thread"></div></div></div><script>var url_parts = window.location.href.split("?");
var disqus_url = url_parts[0];
(function () {
    console.log("enter disqus");
    var dsq = document.createElement('script');
    dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = "//breght-van-baelen.disqus.com/embed.js";
    (document.head || d.body ).appendChild(dsq);
})();</script></div></div></div><footer><div class="container beautiful-jekyll-footer"><div class="row"><div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1"><ul class="list-inline text-center footer-links"><li><a target="_blank" rel="noopener" href="https://github.com/breght-van-baelen" title="GitHub"><span class="fa-stack fa-lg"><i class="fa fa-circle fa-stack-2x"></i><i class="fa fa-stack-1x fa-inverse fa-github"></i></span></a></li><li><a target="_blank" rel="noopener" href="https://www.linkedin.com/in/breght-van-baelen/" title="LinkedIn"><span class="fa-stack fa-lg"><i class="fa fa-circle fa-stack-2x"></i><i class="fa fa-stack-1x fa-inverse fa-linkedin"></i></span></a></li><li><a href="mailto:breght.vanbaelen@microsoft.com" title="Email me"><span class="fa-stack fa-lg"><i class="fa fa-circle fa-stack-2x"></i><i class="fa fa-stack-1x fa-inverse fa-envelope"></i></span></a></li></ul><p class="copyright text-muted">© Breght Van Baelen • 2025 <a href="mailto:undefined"></a></p></div></div></div></footer><script src="//cdn.bootcss.com/jquery/1.11.2/jquery.min.js"></script><script src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script><script src="/js/main.js"></script><script src="//cdn.bootcss.com/highlight.js/9.12.0/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script></body></html>